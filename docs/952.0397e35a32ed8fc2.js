"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[952],{7952:(N,c,n)=>{n.r(c),n.d(c,{KeywordModule:()=>J});var l=n(6895),i=n(7980),m=n(97),y=n(740),v=n(8882),d=n(6123),u=n(9841),h=n(2843),f=n(3900),g=n(4004),w=n(262),t=n(1571),K=n(529);let C=(()=>{class o{constructor(e){this.http=e}getKeywordName(e){return this.http.get(`keyword/${e}`).pipe((0,g.U)(a=>a.name))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(K.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var M=n(9991),x=n(8424),A=n(761),T=n(3556);function I(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h1"),t._uU(2),t.qZA(),t.TgZ(3,"app-pagination",5),t.NdJ("nextPageEvent",function(s){t.CHM(e);const p=t.oxw();return t.KtG(p.goToPage(s))}),t.qZA(),t._UZ(4,"app-movie-list",6),t.TgZ(5,"app-pagination",5),t.NdJ("nextPageEvent",function(s){t.CHM(e);const p=t.oxw();return t.KtG(p.goToPage(s))}),t.qZA(),t.BQk()}if(2&o){const e=r.ngIf;t.xp6(2),t.hij("Keyword: ",e.keywordName,""),t.xp6(1),t.Q6J("page",e.page)("totalPages",e.total_pages),t.xp6(1),t.Q6J("displayAll",!0)("movies",e.results),t.xp6(1),t.Q6J("page",e.page)("totalPages",e.total_pages)}}function S(o,r){1&o&&t._UZ(0,"app-loading")}function Z(o,r){if(1&o&&t.YNc(0,S,1,0,"app-loading",7),2&o){const e=t.oxw();t.Q6J("ngIf",!e.errorMsg)}}const P=[{path:":id",component:(()=>{class o{constructor(e,a,s){this.keywordsSvc=e,this.moviesSvc=a,this.route=s,this.errorModalClosed=!0,this.errorMsg=""}ngOnInit(){this.data$=this.route.paramMap.pipe((0,f.w)(e=>(this.id=+e.get("id"),this.moviesSvc.changeSearchCriteria({id:this.id,page:1,type:"keyword"}),(0,u.a)([this.keywordsSvc.getKeywordName(this.id),this.moviesSvc.getMoviesByKeyword()]).pipe((0,g.U)(([a,s])=>({...s,keywordName:a}))))),(0,w.K)(e=>(this.errorModalClosed=!1,this.errorMsg=e.error.status_message,(0,h._)(()=>new Error(e.error.status_message)))))}goToPage(e){this.moviesSvc.changeSearchCriteria({id:this.id,page:e,type:"keyword"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C),t.Y36(M.I),t.Y36(d.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-keyword"]],decls:9,vars:8,consts:[["id","top",1,"container"],[4,"ngIf","ngIfElse"],[3,"clrAlertClosed","clrAlertClosable","clrAlertType"],[1,"alert-text"],["loading",""],[3,"page","totalPages","nextPageEvent"],["layout","list",3,"displayAll","movies"],[4,"ngIf"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,I,6,7,"ng-container",1),t.ALo(2,"async"),t.TgZ(3,"clr-alert",2)(4,"clr-alert-item")(5,"span",3),t._uU(6),t.qZA()()(),t.YNc(7,Z,1,1,"ng-template",null,4,t.W1O),t.qZA()),2&e){const s=t.MAs(8);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,6,a.data$))("ngIfElse",s),t.xp6(2),t.Q6J("clrAlertClosed",a.errorModalClosed)("clrAlertClosable",!1)("clrAlertType","warning"),t.xp6(3),t.hij(" ",a.errorMsg," ")}},dependencies:[i.TIm,i.CyW,i.I9z,l.O5,x.N,A.O,T.Q,l.Ov],styles:["h1[_ngcontent-%COMP%]{margin-bottom:1.2rem;text-transform:capitalize}"]}),o})(),title:"View Movies By Keyword"},{path:"",pathMatch:"full",redirectTo:"/home"}];let E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(P),d.Bz]}),o})(),J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[i.K6A,l.ez,m.I,y.H,v.u,E]}),o})()}}]);