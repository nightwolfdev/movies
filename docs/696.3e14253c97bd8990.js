"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[696],{3696:(T,p,o)=>{o.r(p),o.d(p,{SearchModule:()=>P});var c=o(6895),g=o(97),u=o(740),h=o(8882),i=o(6123),e=o(1571),m=o(9991),v=o(8424),S=o(761),d=o(3556);function f(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"app-pagination",3),e.NdJ("nextPageEvent",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.goToPage(s))}),e.qZA(),e._UZ(4,"app-movie-list",4),e.TgZ(5,"app-pagination",3),e.NdJ("nextPageEvent",function(s){e.CHM(n);const l=e.oxw();return e.KtG(l.goToPage(s))}),e.qZA(),e.BQk()}if(2&t){const n=r.ngIf,a=e.oxw();e.xp6(2),e.hij("Search Results for ",a.getCurrentSearchCriteria().query,""),e.xp6(1),e.Q6J("page",n.page)("totalPages",n.total_pages),e.xp6(1),e.Q6J("displayAll",!0)("movies",n.results),e.xp6(1),e.Q6J("page",n.page)("totalPages",n.total_pages)}}function C(t,r){1&t&&e._UZ(0,"app-loading")}const y=[{path:"",component:(()=>{class t{constructor(n,a,s){this.moviesSvc=n,this.route=a,this.router=s}ngOnInit(){this.route.queryParams.subscribe(n=>{const a=n.q;a?(this.moviesSvc.changeSearchCriteria({page:1,query:a,type:"search"}),this.searchResults$=this.moviesSvc.search()):this.router.navigateByUrl("/home")})}getCurrentSearchCriteria(){return this.moviesSvc.getCurrentSearchCriteria()}goToPage(n){this.moviesSvc.changeSearchCriteria({page:n,query:this.getCurrentSearchCriteria().query,type:"search"})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.I),e.Y36(i.gz),e.Y36(i.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-search"]],decls:5,vars:4,consts:[["id","top",1,"container"],[4,"ngIf","ngIfElse"],["loading",""],[3,"page","totalPages","nextPageEvent"],["layout","list",3,"displayAll","movies"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,f,6,7,"ng-container",1),e.ALo(2,"async"),e.YNc(3,C,1,0,"ng-template",null,2,e.W1O),e.qZA()),2&n){const s=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,a.searchResults$))("ngIfElse",s)}},dependencies:[c.O5,v.N,S.O,d.Q,c.Ov]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.Bz.forChild(y),i.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,g.I,u.H,h.u,x]}),t})()}}]);