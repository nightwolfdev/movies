"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[971],{7971:(A,l,o)=>{o.r(l),o.d(l,{GenreModule:()=>Z});var r=o(6895),c=o(97),m=o(740),v=o(8882),g=o(6123),d=o(9841),u=o(3900),h=o(4004),e=o(1571),f=o(2368),G=o(9991),C=o(8424),y=o(761),M=o(3556);function x(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"app-pagination",3),e.NdJ("nextPageEvent",function(i){e.CHM(t);const p=e.oxw();return e.KtG(p.goToPage(i))}),e.qZA(),e._UZ(4,"app-movie-list",4),e.TgZ(5,"app-pagination",3),e.NdJ("nextPageEvent",function(i){e.CHM(t);const p=e.oxw();return e.KtG(p.goToPage(i))}),e.qZA(),e.BQk()}if(2&n){const t=a.ngIf;e.xp6(2),e.hij("Genre: ",t.genreName,""),e.xp6(1),e.Q6J("page",t.page)("totalPages",t.total_pages),e.xp6(1),e.Q6J("displayAll",!0)("movies",t.results),e.xp6(1),e.Q6J("page",t.page)("totalPages",t.total_pages)}}function T(n,a){1&n&&e._UZ(0,"app-loading")}const P=[{path:":id",component:(()=>{class n{constructor(t,s,i){this.genresSvc=t,this.moviesSvc=s,this.route=i}ngOnInit(){this.data$=this.route.paramMap.pipe((0,u.w)(t=>(this.id=+t.get("id"),this.moviesSvc.changeSearchCriteria({id:this.id,page:1,type:"genre"}),(0,d.a)([this.genresSvc.getGenreName(this.id),this.moviesSvc.getMoviesByGenre()]).pipe((0,h.U)(([s,i])=>({...i,genreName:s}))))))}goToPage(t){this.moviesSvc.changeSearchCriteria({id:this.id,page:t,type:"genre"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.S),e.Y36(G.I),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-genre"]],decls:5,vars:4,consts:[["id","top",1,"container"],[4,"ngIf","ngIfElse"],["loading",""],[3,"page","totalPages","nextPageEvent"],["layout","list",3,"displayAll","movies"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,x,6,7,"ng-container",1),e.ALo(2,"async"),e.YNc(3,T,1,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const i=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,s.data$))("ngIfElse",i)}},dependencies:[r.O5,C.N,y.O,M.Q,r.Ov],styles:["h1[_ngcontent-%COMP%]{margin-bottom:1.2rem}"]}),n})(),title:"View Movies By Genre"},{path:"",pathMatch:"full",redirectTo:"/home"}];let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(P),g.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,c.I,m.H,v.u,S]}),n})()}}]);